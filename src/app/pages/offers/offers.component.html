<div class="px-4 max-w-7xl mx-auto mt-6 min-h-screen bg-gray-900">
  <h2 class="text-2xl font-semibold mb-6 text-white">Offers Management</h2>

  <!-- Search Bar -->
  <div class="mb-6 flex flex-col md:flex-row gap-4">
    <div class="relative flex-grow max-w-md">
      <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
        <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
        </svg>
      </div>
      <input 
        type="text" 
        [(ngModel)]="searchTerm"
        (keyup.enter)="filterOffers()"
        class="block w-full p-2 pl-10 text-sm text-gray-100 border border-gray-600 rounded-lg bg-gray-800 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500" 
        placeholder="Search offers by title or description..." 
      />
    </div>
    <button 
      (click)="filterOffers()"
      class="px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer"
    >
      Search
    </button>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="text-center my-6">
    <div class="inline-block w-6 h-6 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
  </div>

  <!-- Offers Table -->
  <div *ngIf="!isLoading">
    <div class="overflow-x-auto">
      <table class="min-w-full bg-gray-900 border border-gray-700 rounded-lg text-sm text-left text-gray-200">
        <thead class="bg-gray-800 text-gray-300">
          <tr>
            <th class="px-4 py-2 border-b border-gray-700">Title</th>
            <th class="px-4 py-2 border-b border-gray-700">Description</th>
            <th class="px-4 py-2 border-b border-gray-700">Status</th>
            <th class="px-4 py-2 border-b border-gray-700">Start Date</th>
            <th class="px-4 py-2 border-b border-gray-700">End Date</th>
            <th class="px-4 py-2 border-b border-gray-700">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let offer of filteredOffers" class="hover:bg-gray-800 transition">
            <td class="px-4 py-2 border-b border-gray-700">{{ offer.title }}</td>
            <td class="px-4 py-2 border-b border-gray-700">{{ offer.description || 'No description' }}</td>
            <td class="px-4 py-2 border-b border-gray-700">
              <span 
                class="inline-block px-2 py-1 text-xs font-semibold rounded-full"
                [ngClass]="{
                  'bg-green-100 text-green-700': offer.status === 'active',
                  'bg-gray-200 text-gray-700': offer.status !== 'active'
                }"
              >
                {{ offer.status | titlecase }}
              </span>
            </td>
            <td class="px-4 py-2 border-b border-gray-700">
              {{ offer.startDate | date:'mediumDate' }}
            </td>
            <td class="px-4 py-2 border-b border-gray-700">
              <span *ngIf="offer.endDate">{{ offer.endDate | date:'mediumDate' }}</span>
              <span *ngIf="!offer.endDate" class="text-gray-500">No end date</span>
            </td>
            <td class="px-4 py-2 border-b border-gray-700">
              <button 
                class="px-3 py-1 text-sm font-medium border rounded transition duration-200 cursor-pointer"
                [ngClass]="{
                  'text-white border-gray-400 hover:bg-gray-100 hover:text-black': offer.status === 'active',
                  'text-green-700 border-green-400 hover:bg-green-50': offer.status !== 'active'
                }"
                (click)="toggleOfferStatus(offer)"
              >
                {{ offer.status === 'active' ? 'Deactivate' : 'Activate' }}
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- No Offers Alert -->
    <div *ngIf="filteredOffers.length === 0" class="mt-6 p-4 bg-blue-100 text-blue-700 text-sm rounded">
      No offers found.
    </div>
  </div>
</div>
